
REMINDERS

Z-Tracker targets .Net Framework 4.8.  That's because Framework 4.x is part of the Windows OS, and so that makes Z-Tracker a small .zip file.
I could target .NET 6.0 in the future, but it would require users to have the .NET runtime installed as a pre-req (or else 'Publish' the app 
as self-contained, making the .zip file I give people hundreds of megs, which does not make sense as a strategy for adoption).

I should be able to upgrade to VS2022 and keep targetting as I am today.

see also https://devblogs.microsoft.com/visualstudio/support-ends-for-older-versions-of-visual-studio-feb2022/ and https://github.com/dotnet/core/blob/main/releases.md


TODOs

Just a place to dump feature ideas (small or big) or fixes/improvements



CURRENT PRIORITIES


update docs with changes
update whats new with changes


make a new Mouse Hover Explainer screenshot
make new BLOCKERS screenshots
make new take-any-heart screenshot
(review all screenshots)


on hint decoder, if you already found 1 and 5, maybe aquametus/diggdogger lines greyed out?



put some kind of screenshot on the TOC page, so it can be a first landing page like the master frontpage
maybe slightly more in quickstart guide? or somewhere a pick of overworld popup?




ad-hoc counters? e.g. for whatever folks may want to track? hotkey'd?

> optional boxes or places to note consecutive, global, and recorder counts

thinking about this again (especially now that I know how global works, and how to use it)
I was kinda imagining a "+1 hotkey" would be the easiest interaction, but +1/-1 buttons near the counter could also work, or even a way to 'set' the current one by clicking on a row of 0-9 buttons

for recorder, since it knows what tris you have, I was similarly thinking some kinda of +1/-1 interface and then like some highlight box moves over the appropriate tri up top maybe?

still hard for me to imagine anyone tracking consecutive kills in a way other than counting aloud (edited)
[1:20 PM] homerjsmash: for me i wouldn't increment it with each kill, more like i'm building a count on death mountain and then i have three screens of boulders and peahats, ok good enemies I can kill again.. was i on 5 or 6? lol
[1:27 PM] Lorgon111: I see, oh interesting, ok





long conversation with homer about blockers
 - DONE he wants 3 per dungeon
 - he thinks he wants map/book/atlas blocker of some sort, though perhaps maybe-bomb captures the same idea
 - i want to see if I can make possibly-bombable-walls have a mouse-hover target to get brighter or something on summary tab, to help you decide where
      to re-dig if you find yourself with a new atlas or a fresh stash of 12 bombs
 - (some other way to capture has-map (and maybe surface in tab header?) maybe also interacts? hm... compass? maybe clicks/hotkeys to toggle having them, apart from hotkeys to mark them as room drops?)



[9:06 PM] potato_pony: any consideration to global (always applicable) hotkeys for the "mark timeline" things?
[9:07 PM] potato_pony: i'm never going to check off something like "killed gannon" when i have to move my mouse up there to find it 🙂
[11:57 PM] Lorgon111: good feedback, will consider
 - i think simplest design is, have a hotkey set 'global', have loading hotkeys ensure than no globals conflict with anything else, have them activate from anywhere, and have them toggle 'shopping' things?
 - then potato_pony also wants hotkey for dungeon tabs (or at least summary tab?) but running out of keys, hm

puzzle-piecing maps 1-6,7-9?


change each 'asterisk' beep warning into a more detailed message about what is wrong?
 - text on timeline reminder area?




consider removing choicedomain restrictions, prefer warnings? (deal with spot summary)  alternate user-supplied marks?




futz with VS text editor settings


TheDoctorBlue wants to operate entire tracker with numpad, consider?
 - imagine hotkeys that map to 'move mouse ULDR', and then also... what?
bogie: could add like hotkey mappings for rooms that affect adjacent doors, so hovering a room could have hotkeys for the room, (and drops, and bosses), and also adjacent doors




homer: which blocker blocked item v which blocked triforce
 - e.g. if mark triforce room and mark boss in that room, could it auto-populate blockers? (design issues abound)


maybe a hover target for 'all item shops', e.g. to help see meat shop? (checkbox filters to darken some icons you don't care about, to declutter map?)

voice feedback saying what mark, so less need to watch what you clicked?



Bogie's "brackets" setup - shop kinds 1-4 (as any roads) and L? on the shuffled dungeon locations...
https://discord.com/channels/674255646518149130/710648312214061098/937820067557699606
Some kind of map presets could be good, and 4 types of shops as well, in terms of 'other free marks' people might want to add, hmm.
 - can I imagine a separate marking layer for 'user specified'?  (Bogie had 'custom reminders' on certain spots, effectively)
 - rather than full save/load, what if way to load preset overworld map only?





Maybe like a subscript on the item-progress bar on e.g. the recorder saying how many more recorder spots there are unmarked? and open-caves icon?
 - should open caves account for 'ow sword block' logic? (armos candle, or ladder -> candle?)

in HDN, i always forget 8 (or 1) has 3 items, some kind of 'dungeon is not yet complete' voice reminder? ("recall that dungeon N has a third item")
 - ghostbusters help now

homer: i will noodle on that to, for hotkey folks, right click is useless and wasted, maybe consider scroll to bring up popup and use right click other way
 - consider best use of scrollwheel on dungeon doors/rooms
Consider dungeon-door scrollwheel to popup more options (would require figuring out what other states are useful, and finding decent art for them)

possibly an 'any road' single hotkey that works like voice, and auto-selects next road? same for HDN for 'next dungeon'

consider adding my 'dungeon drops' room table somewhere somehow (would need graphics)

Tracker could be smart about https://discord.com/channels/368763663986982912/586261700064575488/882743164216152084
 - only works if tracking everything and not nothing/dnc-ing other spots, or if only consider 'other' marks as 'true', can floor/ceiling possible %
 - Yellow percentage, count DRCs, etc
 - could at least infer e.g. that yellow turns red when num greens remain = num remaining spots 

kigalas: Also, when you select Second Quest Dungeons can you have it automatically have the checkbox for SQ clicked?



tip: you can't have both an item appear when the enemies die and a push block stair, unless the stairs are already visible
 - actually Standing Item:  Can only have a push block if RMO is on or 2nd quest is the Dungeon setup.
    [7:57 PM] FurySK: Drop item: Cannot ever have a push block across all functions, outside of diamond staircases (edited)
The game (vanilla Z1) has 8 possible room states that can be set for the rooms (unless at some point I decide to do custom assembly):   KILL->DROP KILL->SHUTTER PUSH->STAIR PUSH->SHUTTER   STAND
0 - Nothing happens.  Drop stands in the room, doors stay shut on room clear.                                                               .          .             .           .             X
1 - Drop stands in the room, shutters open on room clear.                                                                                   .          X             .           .             X
2 - "Master" enemy room.  Killing the enemy in slot 0 kills all enemies in the room.  Shutter doors do not open.                            .          .             .           .             .
3 - No drop, doors only open if you hold the Triforce of Power.                                                                             .          .             .           .             .
4 - Drop standing if present, push a block to open shutter doors when all cleared.                                                          .          .             .           X             X
5 - Drop standing if present, push a block to open a stair when all cleared (doors permanently stay shut, see 2nd quest level 8)            .          .             X           .             X   (2Q only)
6 - Open shutter doors if the enemy in the first slot is killed (used only for Life/Money rooms currently, as Fire is an enemy)             .          .             .           .             .
7 - Drop item hidden.  Kill all enemies to make shutters open and drop item appear.                                                         X          X             .           .             .

Thus, in shapes, 
 - Standing item implies no push-stair (unless RMOS in a no-shutter room, which uses state 5 above)
 - Shutter implies no push-stair
 - Kill->Drop implies no push-stair



[2:39 PM] homerjsmash: also i don't remember if i've given you this one before, but v1.xx feature request. Old man counts in levels. ex. I'm in level 1 shapes and i see an old man, i check a box or something. old man found. Then if I have a crappy combat room or a room blocked by ladder I know it's not the old man room that i can't get to. Flip side, i don't have that checked, then I know I don't care about that room.
[2:43 PM] Lorgon111: so is there always at least one old man per dungeon? or specific counts?
[2:43 PM] Lorgon111: (you can mark his room when see him, but have to look at map and count yourself today)
[3:02 PM] homerjsmash: yeah there is 1 man in 1-4, 4 in 9 and I forgot how many in 5-8, but it's the same as vanilla (I am mostly certain about this)
[3:02 PM] homerjsmash: i think there are 3 in 5 and 7
Lorgon111: in Shapes, is there always a fixed number of 'old man hints' in each dungeon? if so, how many in each dungeon?  (does it differ in other dungeon quests?)
[2:42 PM] fcoughlin: The answer is that it should match the vanilla version.  Which means grabs notes you'd normally see 1 hint man in 1-4.  5 would have 2 hints (plus 1 bomb up), 6 has 2 hints, 7 has 1 hint, 1 bomb up, 1 grumble.  8 has 2 hints.  9 has 3 hints.
[2:49 PM] Lorgon111: and I guess the hint-men and bomb-upgrade-men can be swapped?  because i know e.g. i saw both bomb upgrades in 7 the other day.  except i guess maybe the old men in 9 dont get swapped.
[4:25 PM] Panzer: correct



distributing version process
 - for a full release, change the version number in OverworldData.fs (e.g. v1.0.0)
 - edit README.txt to point to upcoming branch URL
 - commit to master
 - make a branch e.g. "v1.0" in git which is a spur for the release (and bugfix updates to app/docs)
 - make a tag on the branch with the full version number e.g. "v1.0.0"
 - commit the branch
ABOVE IS DONE
 - delete entire Relase directory
     - get rid of hotkeys/settings/crash log
 - run the program once
     - creates hotkeys/settings/crash log/ZTracker.lnk
 - delete ZTracker.lnk (has my machine's paths hardcoded)
 - If used program, then maybe also do these:
     - delete LT numbers from settings (my screen window position)
     - delete ShowRunCustom.txt
 - zip up directory
 - publish Release in the branch on the tag, and add the zip as a resource
then users can
 - unzip folder somewhere
 - run Z1R_WPF.exe
 - that will start the program. it will also create a ZTracker.lnk shortcut in the folder, which you can copy wherever you like (e.g. place on desktop)

if flagged as virus, this may help
https://www.thewindowsclub.com/manage-quarantined-exclusions-windows-defender-security-center




eventually:

https://bitbucket.org/Garmichael/infinite-hyrule/src/master/

https://github.com/snarfblam/ZMapper/releases/download/v1.0/ZMapper.1.0.zip


save state
   DONE- item boxes, triforces, HDN color/label
   DONE- shopping area items
   DONE- stating items/extra drops
   DONE- hint storage
   DONE- time
   DONE- start spot
   DONE- overworld (OWQuest, overworldMapMarks, overworldMapExtraData, mapLastChangedTime/recompute)
   DONE- blockers
   DONE- dungeon marks
        - hDoors, vDoors, 
        - roomStates, roomIsCircled (validate usedTransports after import), turn off 'door infer' while setting, turn off 'first time clicking' while setting
             - poking roomIsCircled, then calling SetNewValue() seems like it would work
                  - but for 'empty' dungeons, want to repoke the 'first time clicking' to reactivate it, or rather the opposite (turn off for non-empty dungeons)
   DONE- notes
   DONE- timeline


 

SMALL

clyceer: wants to drag in grab mode, rather than click-click

cd accidentally marked second shop item, wanted to undo, didnt know how (item2=item1 does it, communicate it or add better ui)

timeline & mistakes
 - ideal: people mark an item when they get it, and maybe it shows up immediately (fixed)
 - mistake 1: people mark item they don't have yet, then maybe later unmark (good)
 - mistake 2: people mark wrong item, then change item type (good)
 - mistake 3: people forget to mark item when they get it (can't yet address)
 - mistake 4: people accidentally unmark item they did have (upon re-mark, will update time later)
maybe imagine timeline items know their entire interaction history, and there's a UI to interact with them where user can select among prior interactions to mark correct one, or
just edit the timeline item directly to change display/time? need to think thru each mistake scenario and ideal interaction to fix (if desired)


possibly a reminder when all dungeons have been found _or_hinted_, so you don't look everywhere when you have a hint? hm

clicking the kitty should meow or purr or something



consider other color for FQ/SQ border outlines (red too akin to your wall marks) purple?


consider hover-feedback-of-all-clickables (e.g. triforce could slightly-darken-color-on-hover)


hotkeys
 - consider if Foo_Nothing=x, and you press 'x' to unmark, if maybe 'x' again will 'restore what was just unmarked', like a single-undo
 - any consideration of spacebar or capital-letter-distiguishing?


dungeon room ui:
imagine if could add blue wiz or blue darknut or blue lanmo decoration
(how easy is it to 'undo' an accidental room mark, bring back to 'unmarked'?  clear all marks versus clear the room type?)
which rooms visually pop? uncompleted and left-floor-drop-behind?
consider also eventual replay-the-seed scenarios (if/when i have save/reload functionality)


homer:
 - in sprite shuffle, might want to mark 2 white sword caves because cant tell
        - sprite shuffle, see 'something' off coast, might mark wand, but actually white sword, choicedomain makes a little tricky




'paint' all the rooms you have 'listened' in 9 for ganon? (assuming been-in = listened, boss screams confound)
 - if people paint out the map, it's useless. could use 'completed' rooms only, but then kinda violates 'no semantics' on dung rooms
 - related: where can zelda fit (some explicit mark for shutter doors?)
 - gesture could be hover-ganon and hover-zelda, and there is room to bring those icons down into inset, i think


possible reminder: 'there is only 1 remaining location that XXX can be, hover its hint-halo to see it'
possible reminder: if bow/silvers/ladder are marked red on tracker for more than N minutes, remind they exist in tracker box XXX

marc note about bow dungeon room and bow blocker via dungeon-mouse-location-context - imagine if Blocker_Bow was listened for in dungeon area after rooms and hooked to next free blocker box
 - kigalas also suggested auto-blocker-ing based on dungeon markup, and I explained my misgivings
marc: Binding request for 2.x to get it noted: switch dungeon tab, e.g. [Ctrl+2] -> switch to dungeon 2

if you get a 'meet' hint about white/magic sword cave location, could/should there be an accelerator? same for hint shop (long mouse moves)
  - for hint shop, there could be a special right-click action which accelerates into the hint decoder popup and warps back on complete
        - could make populateOverworldAcceratorTable() method to pass in some values more easily maybe
    ah, but hint shop already has a left click action, which is bright->dark toggle, and is 'needed' e.g. for sword cave hints or hint shops you bought out
    and you can't assume the user wants to mark a hint

mouse thumb button for rare thing, like mark all dungeon room doors as open or blocked? thumb button must be live-without-able
[11:38 AM] potato_pony: ahhh, i don't hvae a middle click 
[11:38 AM] Lorgon111: oof, this is something i never even considered
[11:39 AM] Lorgon111: so i should probably have a hotkey that means middle click for folks on touchpads or something
[11:39 AM] potato_pony: in fairness, i think i could but on the thinkpad i use the middle button is used for scrolling
[11:40 AM] Lorgon111: i just added more middle-click functionality yesterday too 
[11:41 AM] potato_pony: , . / as keyboard alternatives to left/middle/right click?
[11:41 AM] Lorgon111: I mean, it's probably like ten hours of recoding everything, so I will probably never do it, but stuff like that would be the right thing.
[11:42 AM] potato_pony: lol i hear ya


maybe make separate project for generation-tools, e.g.
 - make magnifier bmps offline, save to a resource file, then load resource
 - would also allow me to draw on the generated ones for e.g.
        draw arrows on LostHills/LostWoods, I almost got 'lost' in mirror overworld, but this should be good teaching tool, so the 'path' and alternative exit should be there somehow
         - maybe can draw it on magnifier?
        i saw homer count aloud '1234' and '12345' on the river spots to know where to bomb, magnifier could display even more help, on certain screens?
         - river, NW corner, south bomb coast, mid-candle-row, any others?




hide dungeon numbers:
 - auto-fill-in last number, or other inferences?!?  I think no, maybe voice-reminder-suggestion is better.  Player should 'own' tracker marks, it should only suggest?
        - or it could be another popup, highlight final number, say it must be N by process of elimination, player can confirm or cancel?
 - irrecoverable error can occur when startup in non-hidden-dungeons mode, mark some map, and it's hidden dungeons, hmm (eventually, save/load state might help)
 - i had a hint that D3 was by a lake, and found a dungeon by a lake, can I auto-infer it is D3 sometimes?
 - hints are generally much harder to use, might be opportunities to have tracker be smart and help 
      - gleeok lurks with the magic key: today, in non-HDN, I mark an un-got key in 4 manually - if can move this into hint decoder, then HDN can apply some logics (immediate or later)
        similar, even in non-HDN: Right now hint decoder for white sword location halo, and top UI for white sword item mark, nice if both in one place (when get hint of item & location)
 - I am not sure if 'can put same number on multiple dungeons' is a bug or feature yet


I can't capture some hints e.g. ""play a melody to obtain the white sword"" - if i could record that hint, maybe i can deduce stuff





my modal elements violate MouseEnter/MouseLeave parity, so e.g.,
 - mouse into dungeon 3 map, L3 is showLocator highlighted on overworld
 - invoke room popup
 - move mouse into overworld map, click to dismiss popup
 - L3 is still showLocator()ed because dungeon map never got a MouseLeave event
I could not worry about that, or apply some ad-hoc fixes for the common case, but in general it seems non-trivial


maybe have an optionsMenu thing for all the showLocator stuff, in case folks find it distracting?

consider controller-button push-to-talk to explicitly activate speech recognition, to compensate for streaming-speech accuracy
 - option to play a sound when voice makes a mark
 - maybe want a quick 'unmark' gesture, to undo accidents?
 - if ship PTT feature, need a gamepad button chooser binding thingy, even if e.g. ask them to go to gamepad-tester.com and then select a number 0-9
     - and probably also want keyboard bind like left shift, if can figure out

Speech recogn – can multiple be running at once? Different grammars, context based on mouse location/popups etc
select item box via voice?  select dungeon room via voice?

other possible hotkey stuff?  (start/stop timer, got mags, ... ?)  other possible keys (shift/ctrl, thumb button, gamepad, remap left/right click in various contexts, ...?)

broadcast window doesnt capture drag-drop mouse movement

if HUDs were legal, visual-reminder-HUD would be nice

MEDIUM


If I want to put chosen color on backgrounds with text foreground (e.g. LEVEL-A) then see e.g.
https://stackoverflow.com/questions/3942878/how-to-decide-font-color-in-white-or-black-depending-on-background-color
https://stackoverflow.com/questions/9733288/how-to-programmatically-calculate-the-contrast-ratio-between-two-colors
https://gamedev.stackexchange.com/questions/38536/given-a-rgb-color-x-how-to-find-the-most-contrasting-color-y
for text contrast info
also https://lospec.com/palette-list/nintendo-entertainment-system


[11:39 AM] Lorgon111: I am already starting to imagine a first-time-experience UI, along the lines of
ZTracker did not find a settings file on disk, perhaps this is your first time using this tool?
 - Yes, I am relatively new to Z1R and ZTracker, start me with basic default settings
 - Yes, I am a seasoned Z1R runner who has experience with other trackers, turn off the tutorial/helper options and quickly walk me through icons/customization/hotkeys
 - I know ZTracker, first time on this machine, give me some defaults and I can customize it myself
 - No, what, I just used this yesterday, help me troubleshoot why my settings did not get saved
[11:45 AM] marcmagus:
 - I know ZTracker, first time on this machine, give me some defaults and I can customize it myself
Multiple presets here? Something like 'new', 'speed-hotkey', 'helper-voice'?
[11:46 AM] marcmagus: (If config-editing is a thing, can also be done by shipping a few 'example' configs)
[11:46 AM] Lorgon111: yeah shipped samples is what I vaguely imagine



check for memory leaks
startup performance
https://github.com/microsoft/perfview



BIG

'undo'
if i had two auto saves (most recent, slightly older), then 'undo' could effectively be done by quitting and reloading an auto-save, if you oops...

[9:52 AM] homerjsmash: Yeah I like where you're going with all of this. Also this prompted another thought for me, one of my big mistakes I make is I accidentally reclick a tile I 
have already assigned. Example the potion shop is an open cave which is next to pb spot or something. When I finally get pb I move the mouse to that spot but accidentally fat finger
the potion shop, which since I deselect everything but x makes it an X. Shoot. What the heck was that cave? There's no undo button or something like that
[9:55 AM] Lorgon111: yes, undo, i have been vaguely thinking of that (mostly for speech recognition fat-AI-ing what you spoke), its a pain to code, but yes
like, not even just coding, but from a design perspective, someone scrolls down 3 slots on B4 and then realizes they meant to change B5, what should 'undo' do? undo one 
scroll? undo all recent (how recent?) changes to tile?  what will the user expect? etc etc etc it's a very difficult design space

Keyboard focus and control




