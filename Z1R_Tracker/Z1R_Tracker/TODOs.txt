Inspirational reminder:

[11:49 AM] marcmagus: I have never installed ZHelper, my only experience of it is hating it as a viewer.
[11:49 AM] Lorgon111: oh man, you are missing out on new ways to hate it



TODOs

Just a place to dump feature ideas (small or big) or fixes/improvements


(Don't forget to keep Notes.txt up-to-date as change features!)

(dungeon palette rom)



CURRENT PRIORITIES

clicking link-got-item inside dungeon room menu should maybe dismiss it - feels weird to need to click again? 
            oh right, but without that, you dont get nearby feedback that what you did had the intended effect.
            maybe could auto-dismiss after a second? but that'd be annoying if you were in midst of poking the room you activated it with, hm.
 - also weird that you have to double-click a room, which has an (unintentional?) effect - how get menu without effect?
 - maybe it should just be a permanent fixture to the right of dungeon tabs (but inside the tab, since per-dungeon)
      - steals space from GRAB textbox, and from Notes, and Avaolia would have to put BLOCKERS atop it, so it could only use bottom part

triforce-and-go: turn off PB/recorder reminders   --  or maybe these reminders have outlived their usefulness

timeline minute ticker maybe should only tick every 2 mins in 2nd hour, if only posting items every 2nd minute?
 - right now the item can be placed 'ahead' in the next minute of the minute marker, which people (even me) find weird
 - i think boxes now have Changed events, maybe the right thing to do is to re-architect the timeline to be 'true to tracker now'
   rather than 'snapshot'? means you can correct errors, but also means that you may lose history when correcting...

triforce number popup is cutoff when broadcast from dungeon, ugly (see below, maybe broadcast top whenever that popup is up)
hint decoder always cut off, can i put its button in dungeon pane to broadcast better? or maybe just special case the broadcast if leave where is?

if you get a 'meet' hint about white/magic sword cave location, could/should there be an accelerator? same for hint shop (long mouse moves)
  - for hint shop, there could be a special right-click action which accelerates into the hint decoder popup and warps back on complete

mouse thumb button for rare thing, like mark all dungeon room doors as open or blocked? or like the shift-click thing? thumb button must be live-without-able

consider leaving whitesword/ladder items as interactable boxes on map, so can just click them later, yellow arrow could just popup on hover perhaps

I should try 'painting out unmarked rooms' if map/atlas, to experience it

timeline & mistakes

second shop item, click click click whoops missed it, 7 more clicks... better interface?

Kigalas found 'take any' popup confusing first time he saw it, but figured it out
 - wants 'tracker take candle' speech recognition there

Consider 2/3 app size and 2/3 broadcast window size options?

save option settings to json if they quit app from start screen


when know dungeon number, cross off third box?

there might be at most 6 transports per dungeon, I have used 7 before, but take 9 out of the icon pool, but add '?' transport for unknown stair
 - change 9 icon on strip
 - make it not participate in usedTransports

possible reminder: 'there is only 1 remaining location that XXX can be, hover its hint-halo to see it'
possible reminder: if bow/silvers/ladder are marked red on tracker for more than N minutes, remind they exist in tracker box XXX

hotkeys
 - ensure existing System.Windows.Input.Keyboard.ClearFocus() call does not interfere




SMALL

'paint' all the rooms you have 'listened' in 9 for ganon? (assuming been-in = listened, boss screams confound)


factoids for 'loading ui screen':
 -  a room with a gleeok cannot have a push block
 - Zelda's shutter will always be the only shutter door in a room. If you see 2+ shutter doors, none of them are Zelda's. Minor exception to the above:  Zelda can be in any room adjacent to Gannon, even if there are multiple shutter doors adjacent to Gannon. 
 - free door/bomb hole from overworld; free door/bomb hole from up-a-ing from a room where you opened that side (via bomb (shutter?))
 - khanana key explanation
 - could be tracker tips, like hover a triforce to see its known/hinted location on the map (shop 2nd item, hover candle progress bar, ...)


Speech recogn – can multiple be running at once? Different grammars, context based on mouse location/popups etc

Tracker could be smart about https://discord.com/channels/368763663986982912/586261700064575488/882743164216152084
 - Yellow percentage, count DRCs, etc

Get rid of shift-click room state, change behavior to marking 4 red doors? But what if two together… hmmm…. Don’t want to show wall between two adjacent holes, hm.

Crash log write file

HFQ/HSQ maybe should change from jailbars to full-tile slate-greying?  Need to actually test this feature sometime, even if by running 2Q but selecting mixed intentionally.


hide dungeon numbers:
 - auto-fill-in last number, or other inferences?!?  I think no, maybe voice-reminder-suggestion is better.  Player should 'own' tracker marks, it should only suggest?
 - irrecoverable error can occur when startup in non-hidden-dungeons mode, mark some map, and it's hidden dungeons, hm (eventually, save/load state might help)
 - i had a hint that D3 was by a lake, and found a dungeon by a lake, can I auto-infer it is D3 sometimes?
 - hints are generally much harder to use, might be opportunities to have tracker be smart and help 
 - I am not sure if 'can put same number on multiple dungeons' is a bug or feature yet
 - Is my completion logic ok? I just 'let there be' an extra box, but deduce completion if its a two-boxer and you have two of them.

draw arrows on LostHills/LostWoods, I almost got 'lost' in mirror overworld, but this should be good teaching tool, so the 'path' and alternative exit should be there somehow

I can't capture some hints e.g. ""play a melody to obtain the white sword"" - if i could record that hint, maybe i can deduce stuff


should link keep routing you until you dismiss him (with a click?)
should there be a separate gesture for 'timeout in 10s mode' versus 'keep it until you dismiss' mode?


Right now hint decoder for white sword location halo, and top UI for white sword item mark, nice if both in one place (when get hint of item & location)


accidental double-click on Avalonia-Linux: maybe redraw() causes new element to see MouseDown and repeat-get input? pin this down
 - after that, see if still need rework dungeons, maybe always select to 'uncomplete', and click (right click?) outside popup marks complete


Kigalas:
Next thing was hitting a Lose your Health or (item) room. Since it tracks hearts for getting Swords, it would be nice to let it know that I've lost one in a dungeon.



i saw homer count aloud '1234' and '12345' on the river spots to know where to bomb, magnifier could display even more help, on certain screens?


in progress:
maybe, if you right click sword2 tile or coast tile, it brings up the item selector popup right by your mouse, while also yellow-border-highlighting the 
white-sword-box/ladder-box way up top, and you can change the item 'from there' rather than taking the long mouse journey to the top of the screen
 - if i rewrite the item box to use my abstractions, the the 'extra decoration' could be a guide-line connecting the selection-grid to the actual item box-up-top



my modal elements violate MouseEnter/MouseLeave parity, so e.g.,
 - mouse into dungeon 3 map, L3 is showLocator highlighted on overworld
 - invoke room popup
 - move mouse into overworld map, click to dismiss popup
 - L3 is still showLocator()ed because dungeon map never got a MouseLeave event
I could not worry about that, or apply some ad-hoc fixes for the common case, but in general it seems non-trivial


dungeon room marks, key/bomb on floor? orthogonal to other marks? hm, middle-click cycle thru circle colors? who would ever leave a key?
   maybe middle click is sufficient - you can remember one thing apart from the room type and the completed state, use it for floor bombs or whatever

given how shops work now, one could imagine dealing with the various money icons thusly:
 - rupee tile can be customized to show additional detail
 - details might be: ?, small, med, large, door repair, etc
 - right click could cycle through the options
 - hotkey could set directly the state and the extraData
 - (implementation detail: be careful that extraData is exclusive, e.g. don't have a rupee-state translate into a second-shop-icon-state, or vice versa)



maybe have an optionsMenu thing for all the showLocator stuff, in case folks find it distracting?

consider controller-button push-to-talk to explicitly activate speech recognition, to compensate for streaming-speech accuracy
 - option to play a sound when voice makes a mark
 - maybe want a quick 'unmark' gesture, to undo accidents?
 - if ship PTT feature, need a gamepad button chooser binding thingy, even if e.g. ask them to go to gamepad-tester.com and then select a number 0-9
     - and probably also want keyboard bind like left shift, if can figure out

select item box via voice?  select dungeon room via voice?

(Kigalas wants dungeon door options.  Keep in mind e.g. zhelper lets you filter out items you don't want to scroll thru, so i could also have options for 'extra UI' some people might opt out of)

remove-item-from-scrollwheel-pool (a la ZHelper) - pairs well with hotkeys, as can still hotkey/voice select

should first dungeon room click default to green? any way to mark entry doorway?





decide about PTT functionality
binary packaging for redistribution?
versioning . . .
ad-hoc counters? e.g. for door repair charges, or whatever else folks may want to track
yellow door state? (maybe left/right rotate forward/reverse thru unknown->green->yellow->red cycle)
show list of remaining box items? if less than N left? - the popup now kinda accomplishes this

(start screen eventually have start OR load old data)

does there need to be a voice optionMenu for dungeon blockers? you can always choose not to use it


MEDIUM


homer conversation, he forgot shops could even have second items:
regarding second-shop-icon, are you saying that it would help you remember that second-item is an option available to you if 'bomb' displays not just 'bomb' in center, but 
like 'bomb' on left hand side and like "shop item #2 question mark" icon on the right side, to display that the second slot is still available for use

and are you also/instead saying that rather than 8 scrollwheel slots for 'shop1-8' you would want 1 scrollwheel slot for 'shop' and then a separate popup UI for populating the shop

(I have no idea offhand which of those would be best/popular, a bunch of possible ways to 'do shops' and none completely obviously better than others to me)

IF I go with a generalized idea of take-any, where an overworld tile can have a separate popup-ui that activates via middle click or hotkey, THEN I can imagine a 
single SHOP overworld tile, with a popup-ui for populating the shop.  This is perhaps too complicated for the casual user, though, so I could imagine that the 
'default scrollwheel pool' would just contain the one-item-shop tiles, and the user could choose to customize/hotkey which of one-item-shop tiles or SHOP-popup-ui tile they 
want to have available to them.  And then there'd have to be a couple customization-default-templates for 'casual' v 'hotkey racer' audiences, which is a whole extra layer 
of UI/customization, so there is trade-offs in depth to serving each audience individually best versus serving a single common audience well... I will mull this over a bit.
Make the simple things simple, and the complex/optimized/customized things possible.


If I want to put chosen color on backgrounds with text foreground (e.g. LEVEL-A) then see e.g.
https://stackoverflow.com/questions/3942878/how-to-decide-font-color-in-white-or-black-depending-on-background-color
https://stackoverflow.com/questions/9733288/how-to-programmatically-calculate-the-contrast-ratio-between-two-colors
https://gamedev.stackexchange.com/questions/38536/given-a-rgb-color-x-how-to-find-the-most-contrasting-color-y
for text contrast info
also https://lospec.com/palette-list/nintendo-entertainment-system




homer: larger shop icons (advanced users wont care as much about obscuring map)




review other common flagsets from rando, what works, what could work, etc
 - currently assumes these rando flags:
    - (routing, map legend) whistle to new dungeons & not recorder-to-unbeaten
    - (reminders) change sword hearts
    - (reminders/display) 3 starting hearts
    - (reminders) level 9 requires 8 triforces, go-time needs silvers


size options were common requests for zhelper – can I scale? consider 2/3 size or something.


hotkeys as scroll-macros (e.g. immediately mark S3, or a dungeon room, or an item box)
hotkeys should be able to select icons that have been customized out of scrollwheen pool
hotkeys are often one-handed, so shift (e.g. R versus r to mark recorder basement v floor drop) is probably not useful (could maybe have r versus rr)


[11:39 AM] Lorgon111: I am already starting to imagine a first-time-experience UI, along the lines of
ZTracker did not find a settings file on disk, perhaps this is your first time using this tool?
 - Yes, I am relatively new to Z1R and ZTracker, start me with basic default settings
 - Yes, I am a seasoned Z1R runner who has experience with other trackers, turn off the tutorial/helper options and quickly walk me through icons/customization/hotkeys
 - I know ZTracker, first time on this machine, give me some defaults and I can customize it myself
 - No, what, I just used this yesterday, help me troubleshoot why my settings did not get saved
[11:45 AM] marcmagus:
 - I know ZTracker, first time on this machine, give me some defaults and I can customize it myself
Multiple presets here? Something like 'new', 'speed-hotkey', 'helper-voice'?
[11:46 AM] marcmagus: (If config-editing is a thing, can also be done by shipping a few 'example' configs)
[11:46 AM] Lorgon111: yeah shipped samples is what I vaguely imagine



check for memory leaks


BIG

'undo'
[9:52 AM] homerjsmash: Yeah I like where you're going with all of this. Also this prompted another thought for me, one of my big mistakes I make is I accidentally reclick a tile I 
have already assigned. Example the potion shop is an open cave which is next to pb spot or something. When I finally get pb I move the mouse to that spot but accidentally fat finger
the potion shop, which since I deselect everything but x makes it an X. Shoot. What the heck was that cave? There's no undo button or something like that
[9:55 AM] Lorgon111: yes, undo, i have been vaguely thinking of that (mostly for speech recognition fat-AI-ing what you spoke), its a pain to code, but yes
like, not even just coding, but from a design perspective, someone scrolls down 3 slots on B4 and then realizes they meant to change B5, what should 'undo' do? undo one 
scroll? undo all recent (how recent?) changes to tile?  what will the user expect? etc etc etc it's a very difficult design space

auto save/load tracker state (not just options)? no, would be better for explicit UI action to save to a filename, and load from start screen, zhelper behavior is confusing to folks

layout options, e.g. maybe overworld map and dungeon/notes are two tabs, kinda like zhelper, for those who prefer a 4x3-ish layout, etc, hm

Keyboard focus and control

auto-tracking (link to emulator)







comparisons to ZHelper

ZHelper has lots of features this tracker lacks (save state, network co-op coordination, custom icons, ...) and uses less screen real estate.

That said, I think this tracker has a number of advantages in usability, both in design and feature set:

 - All the items from a dungeon are in a single column.  No more accidentally marking 6's basement item in 5's slot, and then being confused later.

 - More consistent use of color: as things are completed (overworld 'X' spot, completed dungeon/room), they get 'dimmer' coloration, to fade somewhat into the background.
   As a result, the eye is drawn to the bright spots, which are where the remaining work is and where the player needs to focus.

 - Less scrolling: 
     - you can populate most icon boxes without any scrolling due to local popup menu showing all the item choices
     - you can populate most overworld tiles without any scrolling via speech recognition
     - when an item or dungeon location is found, it gets removed from the 'scroll wheel pool', which means that as the game progresses, you need fewer scrolls to find the remaining mark you need.

 - Overworld zoom magnifier: no more squinting at the tracker to see exactly where the bomb-hole is located on that one screen.

 - More information in fewer clicks: mouse hovering can show the area zone overlay, helpful hint locations, dungeon locations, and all kinds of other contextual information, with no switching tabs.

 - Quick after-the-fact dungeon markup: if you play half a dungeon without mapping, and then decide you need to map it, drag gestures can quickly 'paint out' the already-explored portions.

This tracker also has a number of attractive added features, including:

 - ability to mark two items in a shop, rather than just one

 - ability to correct mistakes in dungeon markup (e.g. when you put a bunch of rooms in the wrong column) by cut&pasting a segment

 - full support for 'hide dungeon numbers' - no more needing to move all your marks from one column to another after discovering you guessed the dungeon number wrong

 - a note-taking text area to type ad-hoc reminders to yourself (e.g. "L5 bomb upgrade 106"), and an area to mark dungeon blockers via icons (e.g. 4 needs ladder, 7 needs bow&arrow)

 - overworld routing guidance that can help steer newer players to remaining unexplored locations, or find the best route from A to B

 - a timeline which displays the 'history' of when you got key items, to orient latecomer stream viewers, or to help you replay the seed in your head in the post-game recap analysis

 - speech synthesis features for voice reminders, and speech recognition features for marking bits of the overworld without any scrolling or clicking

 - richer dungeon mapping: ability to mark each dungeon room as 'cleared' or not, independent of the room icon; also, ability to 'circle' key rooms in dungeons

